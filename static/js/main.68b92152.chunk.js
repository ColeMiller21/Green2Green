(this.webpackJsonpg2g=this.webpackJsonpg2g||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(10),s=a.n(o),l=a(16),c=a(17),i=a(19),m=a(18),u=a(24),d=a(27),h=a(63),p=a(20),g=a.n(p),b=(a(56),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",currentUser:{},submitError:!1},e.handleInputChange=function(t){e.setState(Object(u.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault(),console.log("button clicked");var a={email:e.state.email,password:e.state.password};g.a.post("/api/auth",a).then((function(t){if(t.data){var a=t.data;e.setState({currentUser:{token:a.token,email:a.user.email,id:a.user.id}}),localStorage.setItem("token",e.state.currentUser.token),console.log(JSON.stringify(localStorage.getItem("token"))),e.props.history.push("/home")}})).catch((function(t){t&&e.setState({submitError:!0})}))},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{style:f.background},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",{className:"heading"},"Green 2 Green")),n.a.createElement("div",{style:f.formDiv},n.a.createElement("div",{className:"justify-content-md-center col-md-auto",style:f.formStyle},n.a.createElement("h1",{className:"text-center",style:{fontFamily:"Rock Salt, cursive"}},"Sign In!"),n.a.createElement("div",{className:"text-center"},n.a.createElement(h.a,{name:"email",label:"Email",value:this.state.email,onChange:this.handleInputChange,margin:"normal"})),n.a.createElement("div",{className:"text-center"},n.a.createElement(h.a,{name:"password",label:"Password",type:"password",value:this.state.password,onChange:this.handleInputChange,margin:"normal"})),n.a.createElement("div",{className:"text-center"},n.a.createElement(d.b,{to:"/home"},n.a.createElement("button",{type:"button",name:"password",onClick:this.onSubmit,className:"btn btn-success",style:{marginBottom:"6px",marginTop:"15px"}},"Log In")),n.a.createElement("p",null,"Not a member yet? Sign up ",n.a.createElement(d.b,{to:"/signup"},"here!")),this.state.submitError?n.a.createElement("p",{style:{color:"red",fontSize:"12px"}},"Error logging up make sure information is correct "):n.a.createElement("p",null)))))}}]),a}(n.a.Component)),f={formStyle:{backgroundColor:"white",padding:"2rem 3rem 2rem 3rem ",borderRadius:"25px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.3), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},background:{background:"linear-gradient(226deg, rgb(15, 114, 68) 48%, rgb(17, 97, 73) 100%)",minHeight:"100vh",width:"100vw",margin:0,padding:0},formDiv:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)"}},v=b,E=a(13),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",confirmPassword:"",submitError:!1},e.handleChange=function(t){e.setState(Object(u.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};g.a.post("/api/users",a).then((function(t){if(t.data){console.log(t.data);var a=t.data;console.log(a.user.id),e.props.history.push("/")}else alert("Sign up unsuccessful")})).catch((function(t){t&&e.setState({submitError:!0})}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.ValidatorForm.addValidationRule("isPasswordMatch",(function(t){return t===e.state.password}))}},{key:"componentWillUnmount",value:function(){E.ValidatorForm.removeValidationRule("isPasswordMatch")}},{key:"render",value:function(){return n.a.createElement("div",{style:y.background},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",{className:"heading"},"Green 2 Green")),n.a.createElement("div",{style:y.formDiv},n.a.createElement("div",{className:"justify-content-md-center col-md-auto",style:y.formStyle},n.a.createElement("h1",{className:"text-center",style:{fontFamily:"Rock Salt, cursive"}},"Sign Up!"),n.a.createElement(E.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},n.a.createElement("div",{className:"text-center"},n.a.createElement(E.TextValidator,{label:"Email",onChange:this.handleChange,name:"email",value:this.state.email,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"],margin:"normal"})),n.a.createElement("div",{className:"text-center"},n.a.createElement(E.TextValidator,{label:"Password",onChange:this.handleChange,name:"password",type:"password",value:this.state.password,validators:["required"],errorMessages:["this field is required"],margin:"normal"})),n.a.createElement("div",{className:"text-center"},n.a.createElement(E.TextValidator,{label:"Confirm Password",onChange:this.handleChange,name:"confirmPassword",type:"password",validators:["isPasswordMatch","required"],errorMessages:["password mismatch","this field is required"],value:this.state.confirmPassword,margin:"normal"})),n.a.createElement("div",{className:"text-center"},n.a.createElement(d.b,{to:"/home"},n.a.createElement("button",{type:"button",name:"password",onClick:this.onSubmit,className:"btn btn-success",style:{marginBottom:"10px",marginTop:"20px"}},"Sign Up"))),n.a.createElement("div",{className:"text-center"},this.state.submitError?n.a.createElement("p",{style:{color:"red",fontSize:"12px",fontFamily:"Roboto, sans-serif"}},"Error signing up make sure information is correct "):n.a.createElement("p",null))))))}}]),a}(n.a.Component),y={formStyle:{backgroundColor:"white",padding:"2rem 3.5rem 2rem 3.5rem",borderRadius:"25px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.3), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},background:{background:"linear-gradient(226deg, rgb(15, 114, 68) 48%, rgb(17, 97, 73) 100%)",minHeight:"100vh",width:"100vw",margin:0,padding:0},formDiv:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)"}},x=S,N=a(9),w=a(65),k=a.n(w),C={navStyle:{background:"linear-gradient(226deg, rgb(15, 114, 68) 48%, rgb(17, 97, 73) 100%)",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.3), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}},I=function(e){return n.a.createElement("nav",{style:C.navStyle,className:"navbar navbar-light bg-light"},n.a.createElement("span",{style:{color:"white",fontFamily:"Rock Salt, cursive",fontSize:"1.3rem"},className:"navbar-brand mb-0 mx-auto h1"},"Green 2 Green"),n.a.createElement("ul",{className:"nav n<li>Logout</li>avbar-nav navbar-right"},e.isCurrentUser?n.a.createElement("li",{style:{fontFamily:"Roboto, sans-serif",color:"white",cursor:"pointer"},onClick:e.userLogout},n.a.createElement(k.a,null)):n.a.createElement("li",null)))},R=a(66),U={imageDiv:{width:"100vw",height:"45vh",background:"linear-gradient(rgba(0, 0, 0, 0.5),\n        rgba(0, 0, 0, 0.5)),\n    url(".concat(a.n(R).a,")"),backgroundRepeat:"no - repeat",backgroundPosition:"center center",backgroundSize:"cover"},bannerText:{color:"white",position:"absolute",top:"30%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)"}},j=function(e){return n.a.createElement("div",{className:"img-thumbnail",style:U.imageDiv},n.a.createElement("div",{style:U.bannerText},e.handicapReached?n.a.createElement("div",null,n.a.createElement("h1",{style:{fontSize:"6rem"},className:"text-center"},e.currentUser.totalHandicap),n.a.createElement("h1",{style:{fontSize:"1.5rem"},className:"text-center"},"Handicap")):n.a.createElement("div",null,n.a.createElement("h1",{style:{fontSize:"6rem"},className:"text-center"},"00"),n.a.createElement("h1",{style:{fontSize:"1.5rem"},className:"text-center"},"Still need ",e.tillHandicap," more scores!"))))},O=a(22),H=(n.a.Component,a(68)),M=a.n(H),q=a(139),T=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={courseName:"",frontNine:parseInt(0),backNine:parseInt(0),courseRating:parseFloat(0),courseSlope:parseInt(0),totalScore:parseInt(0)},e.handleInputChange=function(t){e.setState(Object(u.a)({},t.target.name,t.target.value))},e.numberInputChange=function(t){if(""!==t.target.value&&!/^\d+$/.test(t.target.value))return!1;e.setState(Object(u.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault(),e.setState({totalScore:Number(e.state.frontNine)+Number(e.state.backNine)},(function(){console.log("clicked");var t={user:e.props.currentUser._id,frontNine:e.state.frontNine,backNine:e.state.backNine,courseRating:e.state.courseRating,courseSlope:e.state.courseSlope,totalScore:e.state.totalScore,courseName:e.state.courseName};g.a.post("/api/scores",t).then((function(t){console.log(t),e.setState({courseName:"",frontNine:parseInt(0),backNine:parseInt(0),courseRating:parseInt(0),courseSlope:parseInt(0),totalScore:parseInt(0)})})).catch((function(e){return console.log(e)}))})),e.props.onHide(),e.props.getScores()},e}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement(O.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(O.a.Header,{closeButton:!0},n.a.createElement(O.a.Title,{id:"contained-modal-title-vcenter text-center"},n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,"Insert New Score")))),n.a.createElement(O.a.Body,null,n.a.createElement(E.ValidatorForm,{ref:"form",onSubmit:this.onSubmit},n.a.createElement(q.a,{container:!0,spacing:4,className:"text-center"},n.a.createElement(q.a,{item:!0,xs:12},n.a.createElement(E.TextValidator,{fullWidth:!0,label:"Course Name",onChange:this.handleInputChange,name:"courseName",type:"text",value:this.state.courseName,validators:["required"],errorMessages:["this field is required"],margin:"normal"})),n.a.createElement(q.a,{item:!0,xs:6,className:"text-center"},n.a.createElement(E.TextValidator,{label:"Front Nine",onChange:this.numberInputChange,name:"frontNine",type:"text",value:this.state.frontNine,validators:["minNumber:0","maxNumber:100"],errorMessages:["this field is required"],margin:"normal"})),n.a.createElement(q.a,{item:!0,xs:6,className:"text-center"},n.a.createElement(E.TextValidator,{label:"Back Nine",onChange:this.numberInputChange,name:"backNine",type:"text",value:this.state.backNine,validators:["required"],errorMessages:["this field is required"],margin:"normal"})),n.a.createElement(q.a,{item:!0,xs:6,className:"text-center"},n.a.createElement(E.TextValidator,{label:"Course Rating",onChange:this.handleInputChange,name:"courseRating",type:"text",value:this.state.courseRating,validators:["required"],errorMessages:["this field is required"],margin:"normal"})),n.a.createElement(q.a,{item:!0,xs:6,className:"text-center"},n.a.createElement(E.TextValidator,{label:"Course Slope",onChange:this.numberInputChange,name:"courseSlope",type:"text",value:this.state.courseSlope,validators:["required"],errorMessages:["this field is required"],margin:"normal"}))),n.a.createElement("div",{className:"text-center",style:{marginTop:"25px"}},n.a.createElement("h2",null,parseInt(this.state.frontNine)+parseInt(this.state.backNine)),n.a.createElement("p",null,"Total Score"),n.a.createElement("button",{type:"button",onClick:this.onSubmit,className:"btn btn-success btn-block"},"Submit Score"),n.a.createElement("p",null,"*All inputs must be filled out to properly access your handicap. If you need help read this ",n.a.createElement("a",{href:"https://golftips.golfweek.com/explanation-golf-scorecard-2458.html",target:"_blank",rel:"noopener noreferrer"},"article!")," ")))))}}]),a}(n.a.Component),F=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={show:!1,scores:[],currentUser:{},isCurrentUser:!1,handicapReached:!1,tillHandicap:0},e.getHandicap=function(){if(console.log(e.state.scores.length),console.log(e.state.currentUser),e.state.scores.length<3){var t=10-e.state.scores.length;e.setState({tillHandicap:t}),console.log(e.state.tillHandicap)}else{var a=[];e.setState({handicapReached:!0,scores:e.state.scores.sort((function(e,t){return parseInt(e.totalScore)-parseInt(t.totalScore)}))}),e.state.scores.forEach((function(e){console.log({total:e.totalScore,slope:e.courseSlope,rating:e.courseRating});var t=parseInt(e.totalScore)-parseInt(e.courseRating);t*=113,t=(t/=e.courseSlope).toFixed(2),console.log(t),a.push(parseFloat(t))})),console.log(a),e.averageHandicap(a)}},e.averageHandicap=function(t){for(var a=0,r=0;r<t.length;r++)a+=t[r];var n=Math.round(a/t.length);console.log(n),console.log(e.state.currentUser._id),g.a.put("/api/users/"+e.state.currentUser._id,{totalHandicap:n}).then((function(e){return console.log(e.data)}))},e.getUserScores=function(){var t=e.state.currentUser._id;console.log(t),g.a.get("/api/scores/"+t).then((function(t){console.log(t.data),e.setState({scores:t.data}),e.getHandicap()})).catch((function(e){return console.log(e)}))},e.userLogout=function(){localStorage.clear(),e.setState({isCurrentUser:!1,currentUser:{}}),e.props.history.push("/")},e.handleShow=function(){e.setState({show:!0})},e.handleClose=function(){e.setState({show:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/api/auth/user",{headers:{"x-auth-token":localStorage.getItem("token")}}).then((function(t){console.log(t.data),t.data&&e.setState({currentUser:t.data,isCurrentUser:!0},(function(){return e.getUserScores()}))}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(I,{userLogout:this.userLogout,isCurrentUser:this.state.isCurrentUser}),n.a.createElement(j,{handicapReached:this.state.handicapReached,tillHandicap:this.state.tillHandicap,currentUser:this.state.currentUser}),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h2",{className:"text-center"},"Recent Scores"),n.a.createElement("div",{className:"col-md-2 offset-md-5"},n.a.createElement("button",{style:{marginBottom:"5px",fontFamily:"Roboto, sans-serif"},onClick:this.handleShow,type:"button",className:"btn btn-success btn-block","data-toggle":"modal","data-target":"#exampleModal"},"+ New Score"),n.a.createElement(T,{getScores:this.getUserScores,currentUser:this.state.currentUser,show:this.state.show,onHide:this.handleClose}))),n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",{style:D.tableHeaders},n.a.createElement("th",{scope:"col"},"Date"),n.a.createElement("th",{scope:"col"},"Total"),n.a.createElement("th",{scope:"col"},"Course Name"),n.a.createElement("th",{scope:"col"},"Front 9"),n.a.createElement("th",{scope:"col"},"Back 9"))),n.a.createElement("tbody",null,this.state.scores.map((function(e,t){return n.a.createElement("tr",{key:"uniqueKey"+t},n.a.createElement("th",{scope:"row",style:{width:"20%"}},M()(e.createdAt).format("MM-DD-YY")),n.a.createElement("td",{style:{width:"10%"}},e.totalScore),n.a.createElement("td",{style:{width:"40%"}},e.courseName),n.a.createElement("td",{style:{width:"10%"}},e.frontNine),n.a.createElement("td",{style:{width:"10%"}},e.backNine))}))))))}}]),a}(n.a.Component),D={tableHeaders:{fontSize:"1rem"}},V=F,z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement(d.a,null,n.a.createElement(N.c,null,n.a.createElement(N.a,{path:"/",exact:!0,component:v}),n.a.createElement(N.a,{path:"/signup",component:x}),n.a.createElement(N.a,{path:"/home",component:V})))}}]),a}(n.a.Component);var P=function(){return n.a.createElement("div",null,n.a.createElement(z,null))};s.a.render(n.a.createElement(P,null),document.getElementById("root"))},56:function(e,t,a){},66:function(e,t,a){e.exports=a.p+"static/media/golfball.e1490b4a.png"},72:function(e,t,a){e.exports=a(107)}},[[72,1,2]]]);
//# sourceMappingURL=main.68b92152.chunk.js.map